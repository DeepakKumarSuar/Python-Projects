<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Tic-Tac-Toe Game</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Mode Selection Screen -->
    <div id="modeSelection" class="screen active">
        <div class="container">
            <div class="game-header">
                <i class="fas fa-bullseye icon"></i>
                <h1>Tic-Tac-Toe</h1>
                <p>Choose your game mode</p>
            </div>
            
            <div class="mode-buttons">
                <button id="singlePlayerBtn" class="mode-btn single-player">
                    <i class="fas fa-user"></i>
                    Single Player
                    <i class="fas fa-robot"></i>
                </button>
                
                <button id="twoPlayerBtn" class="mode-btn two-player">
                    <i class="fas fa-users"></i>
                    Two Players
                </button>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen">
        <div class="container game-container">
            <!-- Header -->
            <div class="game-nav">
                <button id="backBtn" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h1 id="gameTitle">You vs Computer</h1>
                <div class="spacer"></div>
            </div>
            
            <!-- Scoreboard -->
            <div class="scoreboard">
                <div class="score-item">
                    <div class="score-value x-score" id="xScore">0</div>
                    <div class="score-label" id="xLabel">You (X)</div>
                </div>
                <div class="score-item">
                    <div class="score-value tie-score" id="tieScore">0</div>
                    <div class="score-label">Ties</div>
                </div>
                <div class="score-item">
                    <div class="score-value o-score" id="oScore">0</div>
                    <div class="score-label" id="oLabel">Computer (O)</div>
                </div>
            </div>

            <!-- Game Status -->
            <div id="gameStatus" class="game-status">
                <div class="status-indicator">
                    <div class="turn-indicator x-turn" id="turnIndicator"></div>
                    <span id="statusText">Your turn (X)</span>
                </div>
            </div>

            <!-- Game Board -->
            <div id="gameBoard" class="game-board">
                <button class="cell" data-index="0"></button>
                <button class="cell" data-index="1"></button>
                <button class="cell" data-index="2"></button>
                <button class="cell" data-index="3"></button>
                <button class="cell" data-index="4"></button>
                <button class="cell" data-index="5"></button>
                <button class="cell" data-index="6"></button>
                <button class="cell" data-index="7"></button>
                <button class="cell" data-index="8"></button>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="newGameBtn" class="action-btn new-game">
                    <i class="fas fa-redo"></i>
                    New Game
                </button>
                <button id="resetScoresBtn" class="action-btn reset-scores">
                    Reset Scores
                </button>
            </div>
        </div>
    </div>

    <!-- Computer Thinking Animation -->
    <div id="thinkingAnimation" class="thinking-animation hidden">
        <i class="fas fa-robot"></i>
        <span>Computer is thinking...</span>
        <div class="dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Winner Celebration -->
    <div id="celebration" class="celebration hidden">
    <!-- ... celebration content ... -->
</div>

<!-- Load Pyodide and run Python -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
<script>
    async function main() {
        // 1. Load Pyodide (the Python environment)
        let pyodide = await loadPyodide();
        
        // 2. Fetch main.py (from the same directory) and run its contents
        await pyodide.runPythonAsync(await fetch("main.py").then(res => res.text()));
    }

    main();
</script>
</body>
</html>